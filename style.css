:root{
  --bg:#0b0d12; --panel:#121622; --muted:#7f8dab; --text:#e8eefc;
  --accent:#7aa2ff; --accent-2:#74fbc4; --ring:rgba(122,162,255,.4);
  --border:rgba(255,255,255,.08);
}
*{box-sizing:border-box} html,body{height:100%}
body{margin:0;background:linear-gradient(180deg,#0b0d12,#0b0d12 40%,#0d1220);color:var(--text);
  font:15px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
.topbar{position:sticky;top:0;z-index:10;display:flex;align-items:center;gap:.8rem;padding:.75rem 1rem;
  background:rgba(11,13,18,.65);backdrop-filter:blur(8px);border-bottom:1px solid var(--border)}
.brand{display:flex;align-items:center;gap:.6rem}
.dot{width:.9rem;height:.9rem;border-radius:999px;background:linear-gradient(135deg,var(--accent),var(--accent-2));
  box-shadow:0 0 12px var(--ring)}
.brand h1{font-size:1rem;margin:0;font-weight:600}
.muted{color:var(--muted);font-size:.9rem}
.spacer{flex:1}
.secondary{background:transparent;border:1px solid var(--border);color:var(--muted);
  padding:.45rem .7rem;border-radius:.5rem;cursor:pointer}
.secondary:hover{border-color:var(--accent);color:var(--text)}
.small{font-size:.85rem;padding:.35rem .55rem}

.layout.single{padding:1rem}
.chat{background:rgba(18,22,34,.7);border:1px solid var(--border);border-radius:.8rem;overflow:hidden;
  min-height:70vh;display:flex;flex-direction:column}
.messages{list-style:none;margin:0;padding:1rem;display:flex;flex-direction:column;gap:.6rem;overflow:auto;flex:1}
.msg{display:grid;grid-template-columns:40px 1fr;gap:.75rem}
.msg .avatar{width:36px;height:36px;border-radius:999px;background:linear-gradient(135deg,var(--accent),transparent)}
.msg.me .avatar{background:linear-gradient(135deg,var(--accent-2),transparent)}
.msg .bubble{background:#0f1422;border:1px solid var(--border);padding:.6rem .75rem;border-radius:.7rem}
.msg.me .bubble{background:#0f1a2b;border-color:rgba(122,162,255,.25)}
.msg .meta{display:flex;gap:.5rem;align-items:center;color:var(--muted);font-size:.85rem;margin-bottom:.2rem}
.msg .text{white-space:pre-wrap;word-wrap:break-word}

.composer{display:grid;grid-template-columns:160px 1fr auto;gap:.6rem;border-top:1px solid var(--border);
  padding:.75rem;background:rgba(18,22,34,.85)}
.composer .name,.composer .text{background:var(--panel);border:1px solid var(--border);color:var(--text);
  border-radius:.6rem;padding:.6rem .7rem;outline:none}
.composer .name:focus,.composer .text:focus{border-color:var(--accent);box-shadow:0 0 0 .2rem var(--ring)}
.primary{background:linear-gradient(135deg,var(--accent),var(--accent-2));border:none;color:#0b0d12;
  font-weight:700;padding:.6rem 1rem;border-radius:.6rem;cursor:pointer}
.primary:hover{filter:saturate(1.2)}
.footer{border-top:1px solid var(--border);padding:.7rem 1rem;color:var(--muted);font-size:.9rem}

.typing{display:flex;align-items:center;gap:.6rem;padding:.2rem 1rem 1rem}
.typing .avatar.bot{width:28px;height:28px;border-radius:999px;background:linear-gradient(135deg,var(--accent),var(--accent-2))}
.dots{display:inline-flex;gap:.25rem;background:#0f1422;border:1px solid var(--border);padding:.45rem .6rem;border-radius:.6rem}
.dots span{width:.32rem;height:.32rem;border-radius:999px;background:var(--muted);display:inline-block;opacity:.6;
  animation:blink 1.2s infinite}
.dots span:nth-child(2){animation-delay:.2s}
.dots span:nth-child(3){animation-delay:.4s}
@keyframes blink{0%,60%,100%{opacity:.25}30%{opacity:1}}

@media (max-width:640px){
  .composer{grid-template-columns:1fr auto}
  .composer .name{display:none}
}